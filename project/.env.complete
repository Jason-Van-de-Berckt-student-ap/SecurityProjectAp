# EASM Application Environment Configuration
# Copy this file to .env and customize the values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
FLASK_ENV=development
SECRET_KEY=your-secret-key-here-change-this-in-production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Use SQLite for development (set to true) or PostgreSQL for production (set to false)
USE_SQLITE=true
SQLITE_DB=easm.db

# PostgreSQL Configuration (used when USE_SQLITE=false)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=easm_db
DB_USER=easm_user
DB_PASSWORD=easm_pass
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Use Redis for caching (set to true) or in-memory cache (set to false)
USE_REDIS=false

# Redis Configuration (used when USE_REDIS=true)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0
SECURE_COOKIES=false
SESSION_TIMEOUT=3600
ALLOW_PRIVATE_IPS=true

# Authentication Settings
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=300

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Scanner Configuration
SCAN_MAX_WORKERS=6
SCAN_TIMEOUT=300
MAX_WORKERS=6

# Cache Settings
CACHE_DEFAULT_TIMEOUT=3600
CACHE_KEY_PREFIX=easm

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_TO_FILE=true
LOG_TO_DB=true
LOG_TO_CONSOLE=true
LOG_RETENTION_DAYS=30
PERFORMANCE_THRESHOLD=5.0
LOG_DIRECTORY=logs

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================
# Brave Search API Key for related domains (optional)
BRAVE_API_KEY=

# =============================================================================
# MONITORING SETTINGS
# =============================================================================
# Health Check Settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# System Monitoring
SYSTEM_MONITOR_INTERVAL=60
PERFORMANCE_MONITOR_INTERVAL=300

# =============================================================================
# DOCKER SETTINGS (for containerized deployment)
# =============================================================================
# Container resource limits
CONTAINER_MEMORY_LIMIT=2g
CONTAINER_CPU_LIMIT=2

# Network settings
CONTAINER_PORT=5000
EXTERNAL_PORT=8080

# =============================================================================
# BACKUP SETTINGS
# =============================================================================
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=7
BACKUP_DIRECTORY=backups

# =============================================================================
# EMAIL SETTINGS (for notifications)
# =============================================================================
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@easm.local

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Debug settings (only for development)
DEBUG_MODE=true
DEBUG_TOOLBAR=false
PROFILING_ENABLED=false

# Testing settings
TESTING=false
TEST_DATABASE=test_easm.db

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# SSL/TLS Configuration (production only)
SSL_CERT_PATH=
SSL_KEY_PATH=
FORCE_HTTPS=false

# Load balancer settings
BEHIND_PROXY=false
PROXY_COUNT=1

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific features
ENABLE_CACHE_WARMING=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# Scanning features
ENABLE_DNS_SCANNING=true
ENABLE_SSL_SCANNING=true
ENABLE_VULNERABILITY_SCANNING=true
ENABLE_SUBDOMAIN_SCANNING=true
ENABLE_DARKWEB_SCANNING=true
ENABLE_RELATED_DOMAIN_SCANNING=true

# Export features
ENABLE_CSV_EXPORT=true
ENABLE_JSON_EXPORT=true
ENABLE_PDF_EXPORT=false

# =============================================================================
# RATE LIMITING SETTINGS
# =============================================================================
# API rate limits (requests per window)
API_RATE_LIMIT=100
API_RATE_WINDOW=3600

# Scan rate limits
SCAN_RATE_LIMIT=10
SCAN_RATE_WINDOW=3600

# Login rate limits
LOGIN_RATE_LIMIT=5
LOGIN_RATE_WINDOW=300

# =============================================================================
# CACHE WARMING SETTINGS
# =============================================================================
CACHE_WARM_ON_STARTUP=true
CACHE_WARM_POPULAR_DOMAINS=true
CACHE_WARM_BATCH_SIZE=50
CACHE_WARM_INTERVAL=3600

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================
# Alert thresholds
CPU_ALERT_THRESHOLD=80
MEMORY_ALERT_THRESHOLD=80
DISK_ALERT_THRESHOLD=80
ERROR_RATE_ALERT_THRESHOLD=5

# Notification channels
ENABLE_EMAIL_ALERTS=false
ENABLE_SLACK_ALERTS=false
SLACK_WEBHOOK_URL=

# =============================================================================
# METRICS AND MONITORING
# =============================================================================
# Prometheus metrics
ENABLE_PROMETHEUS_METRICS=false
PROMETHEUS_PORT=9090

# Grafana dashboard
GRAFANA_URL=
GRAFANA_API_KEY=

# =============================================================================
# TIMEZONE SETTINGS
# =============================================================================
TIMEZONE=UTC
DATE_FORMAT=%Y-%m-%d %H:%M:%S
